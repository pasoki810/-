<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>ç«åŠ›è¨ˆç®—æ©Ÿ</title>

<style>
body {
  font-family: Arial;
  background: #111;
  color: white;
  text-align: center;
  margin-top: 40px;
}

input, select {
  padding: 10px;
  font-size: 16px;
  margin: 10px;
}

button {
  padding: 10px 20px;
  font-size: 16px;
  cursor: pointer;
  background: orange;
  border: none;
  font-weight: bold;
}

label {
  display: block;
  margin: 5px;
}

.result {
  font-size: 28px;
  margin-top: 25px;
  color: cyan;
  font-weight: bold;
}
</style>
</head>

<body>

<h1>ç«åŠ›è¨ˆç®—æ©Ÿ</h1>

<p>å…ƒå€¤ (M)</p>
<input type="number" id="baseValue" placeholder="ä¾‹: 6.7">

<h3>ãƒ¬ã‚¢ãƒªãƒ†ã‚£</h3>
<select id="rarity">
  <option value="1">ãƒãƒ¼ãƒãƒ«</option>
  <option value="1.25">ã‚´ãƒ¼ãƒ«ãƒ‰</option>
  <option value="1.5">ãƒ€ã‚¤ãƒ¤ãƒ¢ãƒ³ãƒ‰</option>
  <option value="3">ã‚®ãƒ£ãƒ©ã‚¯ã‚·ãƒ¼</option>
  <option value="5">ã‚¾ãƒ³ãƒ“</option>
  <option value="6">ãƒ‰ãƒªãƒ¼ãƒŸãƒ¼</option>
  <option value="7">ã‚¢ã‚¤ã‚¹ï¼†ãƒ•ã‚¡ã‚¤ã‚¢</option>
  <option value="8">ã‚«ãƒ¼ãƒ‹ãƒãƒ«</option>
  <option value="9">ã‚¢ã‚¯ã‚¢</option>
  <option value="9.5">ãƒã‚ªãƒ³</option>
  <option value="10">ãƒãƒ­ã‚¦ã‚£ãƒ³</option>
  <option value="10">ãƒ¬ã‚¤ãƒ³ãƒœãƒ¼</option>
  <option value="10.5">ãƒãƒ§ã‚³ãƒ¬ãƒ¼ãƒˆ</option>
  <option value="11">ãƒ€ãƒ¼ã‚¯ãƒã‚¹</option>
  <option value="11">ãƒˆã‚­ã‚·ãƒƒã‚¯</option>
  <option value="12">ã‚¯ãƒªã‚¹ãƒã‚¹</option>
</select>

<h3>å¤‰ç•°ï¼ˆè¤‡æ•°é¸æŠå¯ï¼‰</h3>

<label><input type="checkbox" value="1.5"> ãƒ©ã‚¤ãƒˆãƒ‹ãƒ³ã‚°</label>
<label><input type="checkbox" value="2"> ãƒ•ãƒ­ãƒ¼ã‚ºãƒ³</label>
<label><input type="checkbox" value="2"> ãƒ‹ãƒ¥ãƒ¼ã‚¤ãƒ¤ãƒ¼</label>
<label><input type="checkbox" value="3"> ã‚°ãƒªãƒƒãƒ</label>
<label><input type="checkbox" value="3"> ã‚¦ã‚§ãƒ¼ãƒ–</label>
<label><input type="checkbox" value="3.5"> ã‚­ãƒ¥ãƒ¼ãƒ”ãƒƒãƒˆ</label>
<label><input type="checkbox" value="4"> ãƒ‘ãƒ³ãƒ—ã‚­ãƒ³</label>
<label><input type="checkbox" value="5"> ã‚¹ã‚­ãƒ“ãƒ†ã‚£</label>

<br>
<button onclick="calculate()">è¨ˆç®—</button>

<div class="result" id="result"></div>

<script>

function formatValue(value) {

  if (value >= 1000) {
    let raw = Math.floor((value / 1000) * 10) / 10;

    if (raw % 1 === 0) {
      return raw.toFixed(0) + " B/s";
    } else {
      return raw.toFixed(1) + " B/s";
    }
  }

  else {
    let raw = Math.floor(value * 10) / 10;

    if (raw % 1 === 0) {
      return raw.toFixed(0) + " M/s";
    } else {
      return raw.toFixed(1) + " M/s";
    }
  }
}

function calculate() {

  const base = parseFloat(document.getElementById("baseValue").value);
  const rarity = parseFloat(document.getElementById("rarity").value);
  const checkboxes = document.querySelectorAll('input[type="checkbox"]:checked');

  if (isNaN(base)) {
    document.getElementById("result").textContent = "å…ƒå€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„";
    return;
  }

  let mutationTotal = 0;

  checkboxes.forEach(box => {
    mutationTotal += parseFloat(box.value);
  });

  // ğŸ”¥ ã‚²ãƒ¼ãƒ ä¸€è‡´å¼ï¼ˆ-1è£œæ­£ï¼‰
  const totalMultiplier = rarity + mutationTotal - 1;

  const finalValue = base * totalMultiplier;

  document.getElementById("result").innerHTML =
    "æœ€çµ‚å€¤: " + formatValue(finalValue);
}

</script>

</body>
</html>
