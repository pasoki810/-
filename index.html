<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>変異倍率計算機</title>

<style>
body {
  font-family: Arial;
  background: #111;
  color: white;
  text-align: center;
  margin-top: 40px;
}

input, select {
  padding: 10px;
  font-size: 16px;
  margin: 10px;
}

button {
  padding: 10px 20px;
  font-size: 16px;
  cursor: pointer;
  background: orange;
  border: none;
  font-weight: bold;
}

label {
  display: block;
  margin: 5px;
}

.result {
  font-size: 28px;
  margin-top: 25px;
  color: cyan;
  font-weight: bold;
}
</style>
</head>

<body>

<h1>火力計算機</h1>

<p>元値 (M)</p>
<input type="number" id="baseValue" placeholder="例: 50">

<h3>レアリティ</h3>
<select id="rarity">
  <option value="1">ノーマル</option>
  <option value="1.25">ゴールド</option>
  <option value="1.5">ダイヤモンド</option>
  <option value="3">ギャラクシー</option>
  <option value="5">ゾンビ</option>
  <option value="6">ドリーミー</option>
  <option value="7">アイス＆ファイア</option>
  <option value="8">カーニバル</option>
  <option value="9">アクア</option>
  <option value="9.5">ネオン</option>
  <option value="10">ハロウィン</option>
  <option value="10">レインボー</option>
  <option value="10.5">チョコレート</option>
  <option value="10.5">ラブリー</option>
  <option value="11">ダークネス</option>
  <option value="11">トキシック</option>
  <option value="12">クリスマス</option>
  <option value="13">ヴォイド</option>
</select>

<h3>変異（複数選択可）</h3>

<label><input type="checkbox" value="1.5"> ライトニング</label>
<label><input type="checkbox" value="2"> フローズン</label>
<label><input type="checkbox" value="2"> ニューイヤー</label>
<label><input type="checkbox" value="3"> グリッチ</label>
<label><input type="checkbox" value="3"> ウェーブ</label>  
<label><input type="checkbox" value="2.5"> キューピット</label>
<label><input type="checkbox" value="4"> パンプキン</label>
<label><input type="checkbox" value="5"> スキビティ</label>

<br>
<button onclick="calculate()">計算</button>

<div class="result" id="result"></div>

<script>

function formatValue(value) {
  if (value >= 1000) {
    let bValue = value / 1000;
    bValue = Math.floor(bValue * 10) / 10; // 1桁切り捨て

    if (bValue % 1 === 0) {
      return bValue.toFixed(0) + "B/s";
    } else {
      return bValue.toFixed(1) + "B/s";
    }

  } else {
    let mValue = Math.floor(value * 10) / 10; // 1桁切り捨て

    if (mValue % 1 === 0) {
      return mValue.toFixed(0) + "M/s";
    } else {
      return mValue.toFixed(1) + "M/s";
    }
  }
}

function calculate() {
  const base = parseFloat(document.getElementById("baseValue").value);
  const rarity = parseFloat(document.getElementById("rarity").value);
  const checkboxes = document.querySelectorAll('input[type="checkbox"]:checked');

  if (isNaN(base)) {
    document.getElementById("result").textContent = "元値を入力してください";
    return;
  }

  let mutationTotal = 0;

  checkboxes.forEach(box => {
    mutationTotal += parseFloat(box.value);
  });

  const totalMultiplier = rarity + mutationTotal;
  const finalValue = base * totalMultiplier;

  document.getElementById("result").innerHTML =
    "最終値: " + formatValue(finalValue);
}

</script>

</body>
</html>


