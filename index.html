<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>変異倍率計算機</title>
<style>
body {
  font-family: Arial;
  background: #111;
  color: white;
  text-align: center;
  margin-top: 40px;
}
input {
  padding: 10px;
  font-size: 16px;
  margin: 10px;
}
button {
  padding: 10px 20px;
  font-size: 16px;
  cursor: pointer;
  background: orange;
  border: none;
  font-weight: bold;
}
label {
  display: block;
  margin: 5px;
}
.result {
  font-size: 24px;
  margin-top: 20px;
  color: cyan;
  font-weight: bold;
}
select {
  padding: 10px;
  font-size: 16px;
  margin: 10px;
}
</style>
</head>
<body>

<h1>変異倍率計算機 </h1>

<p>元値 (M)</p>
<input type="number" id="baseValue" placeholder="例: 50">

<h3>レアリティ</h3>
<select id="rarity">
  <option value="0">ノーマル +0</option>
  <option value="0.25">ゴールド +0.25</option>
  <option value="0.5">ダイヤモンド +0.5</option>
  <option value="2">ギャラクシー +2</option>
  <option value="4">ゾンビ +4</option>
  <option value="5">ドリーミー +5</option>
  <option value="6">アイス＆ファイア +6</option>
  <option value="7">カーニバル +7</option>
  <option value="8">アクア +8</option>
  <option value="8.5">ネオン +8.5</option>
  <option value="9">ハロウィン +9</option>
  <option value="9">レインボー +9</option>
  <option value="9.5">チョコレート +9.5</option>
  <option value="10">ダークネス +10</option>
  <option value="10">トキシック +10</option>
  <option value="11">クリスマス +11</option>
</select>

<h3>変異（複数選択可）</h3>

<label><input type="checkbox" value="1.5"> ライトニング +1.5</label>
<label><input type="checkbox" value="2"> フローズン +2</label>
<label><input type="checkbox" value="2"> ニューイヤー +2</label>
<label><input type="checkbox" value="3"> グリッチ +3</label>
<label><input type="checkbox" value="4"> パンプキン +4</label>
<label><input type="checkbox" value="5"> スキビティ +5</label>

<br>
<button onclick="calculate()">計算</button>

<div class="result" id="result"></div>

<script>
function calculate() {
  const base = parseFloat(document.getElementById("baseValue").value);
  const rarity = parseFloat(document.getElementById("rarity").value);
  const checkboxes = document.querySelectorAll('input[type="checkbox"]:checked');

  if (isNaN(base)) {
    document.getElementById("result").textContent = "元値を入力してください";
    return;
  }

  let mutationTotal = 0;

  checkboxes.forEach(box => {
    mutationTotal += parseFloat(box.value);
  });

  const totalMultiplier = 1 + rarity + mutationTotal;
  const finalValue = base * totalMultiplier;

  document.getElementById("result").innerHTML =
    "合計倍率: ×" + totalMultiplier.toFixed(2) +
    "<br>最終値: " + finalValue.toFixed(2) + " M/s";
}
</script>

</body>
</html>
